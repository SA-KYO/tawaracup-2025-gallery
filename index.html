<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å¤šå’Œæ¥½æ¯2025 ã‚®ãƒ£ãƒ©ãƒªãƒ¼</title>

  <!-- Tailwind CDNï¼ˆç°¡æ˜“ç‰ˆï¼‰ -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- ãƒ•ã‚©ãƒ³ãƒˆï¼šNoto Sans JP + Inter ã§è»½ã‚ã« -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --green-main: #34C759;
      --green-soft: #e8fbea;
      --green-dark: #138a3b;
      --card-radius: 1.25rem;
    }
    body {
      font-family: 'Noto Sans JP', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: radial-gradient(circle at top, #f2fff5 0, #ffffff 60%, #f4f7fb 100%);
      min-height: 100vh;
    }
    .glass-card {
      border-radius: var(--card-radius);
      background: rgba(255, 255, 255, 0.92);
      box-shadow:
        0 18px 40px rgba(0, 0, 0, 0.06),
        0 0 0 1px rgba(52, 199, 89, 0.04);
      backdrop-filter: blur(12px);
    }
    .soft-shadow {
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.06);
    }
    .pill-tab {
      border-radius: 999px;
    }
    .thumb-img {
      border-radius: 1rem;
      object-fit: cover;
    }
    .save-btn {
      border-radius: 999px;
      background: linear-gradient(135deg, var(--green-main), #87e58f);
      color: white;
      box-shadow: 0 10px 25px rgba(52, 199, 89, 0.28);
      transition: transform 0.08s ease, box-shadow 0.08s ease, filter 0.08s ease;
    }
    .save-btn:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 6px 18px rgba(52, 199, 89, 0.22);
      filter: brightness(0.97);
    }
  </style>
</head>
<body class="px-4 py-6 md:px-6 md:py-10">

  <main class="max-w-5xl mx-auto space-y-5 md:space-y-8">
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="space-y-4 md:space-y-5">
      <div class="flex items-center justify-between gap-3">
        <div>
          <p class="inline-flex items-center gap-2 text-xs font-medium tracking-wide text-green-700 bg-green-100/60 px-3 py-1 rounded-full">
            <span class="text-[11px]">ğŸŒï¸â€â™‚ï¸</span>
            å¤šå’Œæ¥½æ¯2025 ã‚³ãƒ³ãƒšå½“æ—¥ã‚®ãƒ£ãƒ©ãƒªãƒ¼
          </p>
          <h1 class="mt-2 text-2xl md:text-3xl font-bold text-slate-900 tracking-[0.08em]">
            å¤šå’Œæ¥½æ¯2025 ã‚®ãƒ£ãƒ©ãƒªãƒ¼
          </h1>
          <p class="mt-1 text-sm md:text-base text-slate-500">
            ã¿ã‚“ãªãŒã‚¢ãƒƒãƒ—ã—ã¦ãã‚ŒãŸ <span class="font-medium text-green-700">å†™çœŸãƒ»å‹•ç”»</span> ãŒã€è‡ªå‹•ã§ã“ã“ã«ä¸¦ã³ã¾ã™ã€‚
          </p>
        </div>

        <!-- ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»é¢ã¸æˆ»ã‚‹ -->
        <a
          href="https://tawaracup-2025-photo.netlify.app/"
          class="hidden sm:inline-flex items-center gap-2 px-4 py-2 text-xs font-medium text-green-800 bg-white border border-green-200 rounded-full soft-shadow hover:bg-green-50 transition"
        >
          â† ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»é¢ã«æˆ»ã‚‹
        </a>
      </div>

      <!-- ã‚¹ãƒãƒ›ç”¨æˆ»ã‚‹ãƒœã‚¿ãƒ³ -->
      <a
        href="https://tawaracup-2025-photo.netlify.app/"
        class="sm:hidden inline-flex items-center gap-2 px-3 py-2 text-xs font-medium text-green-800 bg-white border border-green-200 rounded-full soft-shadow hover:bg-green-50 transition"
      >
        â† ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»é¢ã«æˆ»ã‚‹
      </a>
    </header>

    <!-- èª¬æ˜ã‚«ãƒ¼ãƒ‰ -->
    <section class="glass-card px-4 py-4 md:px-6 md:py-5 space-y-4">
      <!-- ã‚¿ãƒ– -->
      <div class="flex gap-2 p-1 bg-slate-100/70 rounded-full w-full max-w-md">
        <button
          id="tabPhotos"
          class="pill-tab flex-1 flex items-center justify-center gap-2 px-3 py-2 text-xs md:text-sm font-semibold bg-white text-green-800 shadow-sm border border-green-200"
        >
          <span>ğŸ“·</span><span>å†™çœŸ</span>
        </button>
        <button
          id="tabVideos"
          class="pill-tab flex-1 flex items-center justify-center gap-2 px-3 py-2 text-xs md:text-sm font-medium text-slate-500 hover:text-slate-700"
        >
          <span>ğŸ¬</span><span>å‹•ç”»</span>
        </button>
      </div>

      <!-- ä¿å­˜ã®èª¬æ˜ -->
      <div class="space-y-2 text-xs md:text-sm text-slate-600">
        <p class="font-semibold text-green-800 inline-flex items-center gap-1">
          <span>âœ…</span> å†™çœŸãƒ»å‹•ç”»ã®ä¿å­˜æ–¹æ³•
        </p>
        <p>
          ã‚¹ãƒãƒ›ï¼š
          <span class="font-medium text-slate-800">ã€Œâ†“ é–‹ã„ã¦ä¿å­˜ã€ãƒœã‚¿ãƒ³</span>
          ã‚’ã‚¿ãƒƒãƒ— â†’ é–‹ã„ãŸç”»é¢ã‚’
          <span class="font-medium text-slate-800">é•·æŠ¼ã—</span>
          ã—ã¦ã€Œå†™çœŸã«ä¿å­˜ã€ï¼ã€Œãƒ“ãƒ‡ã‚ªã‚’ä¿å­˜ã€ãªã©ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚
        </p>
      </div>
    </section>

    <!-- å†™çœŸã‚¨ãƒªã‚¢ -->
    <section id="photosSection" class="space-y-3 md:space-y-4">
      <div class="flex items-center gap-2 text-sm md:text-base font-semibold text-slate-900">
        <span class="text-lg">ğŸ“¸</span>
        <span>å†™çœŸä¸€è¦§</span>
      </div>

      <p class="text-xs md:text-sm text-slate-500">
        æ°—ã«å…¥ã£ãŸå†™çœŸã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨æ‹¡å¤§è¡¨ç¤ºã§ãã¾ã™ã€‚
        <span class="font-medium text-green-700">ã€Œâ†“ é–‹ã„ã¦ä¿å­˜ã€</span>ã‹ã‚‰ã‚‚ä¿å­˜å¯èƒ½ã§ã™ã€‚
      </p>

      <!-- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ç©ºãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
      <div id="photosMessage" class="hidden text-sm text-center py-8 rounded-2xl bg-white/70 text-slate-500"></div>

      <!-- ã‚°ãƒªãƒƒãƒ‰ -->
      <div
        id="photosGrid"
        class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-5"
      ></div>
    </section>

    <!-- å‹•ç”»ã‚¨ãƒªã‚¢ -->
    <section id="videosSection" class="space-y-3 md:space-y-4 hidden">
      <div class="flex items-center gap-2 text-sm md:text-base font-semibold text-slate-900">
        <span class="text-lg">ğŸ¬</span>
        <span>å‹•ç”»ä¸€è¦§</span>
      </div>

      <p class="text-xs md:text-sm text-slate-500">
        è¦‹ãŸã„å‹•ç”»ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨å†ç”Ÿãƒšãƒ¼ã‚¸ãŒé–‹ãã¾ã™ã€‚
        <span class="font-medium text-green-700">ã€Œâ†“ é–‹ã„ã¦ä¿å­˜ã€</span>ã‹ã‚‰ã‚‚ä¿å­˜å¯èƒ½ã§ã™ã€‚
      </p>

      <div id="videosMessage" class="hidden text-sm text-center py-8 rounded-2xl bg-white/70 text-slate-500"></div>

      <div
        id="videosGrid"
        class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-5"
      ></div>
    </section>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="pt-6 md:pt-10 pb-2 text-center text-xs text-slate-400">
      <p>Â© 2025 å¤šå’Œæ¥½æ¯ã‚³ãƒ³ãƒšå®Ÿè¡Œå§”å“¡ä¼š</p>
    </footer>
  </main>

  <script>
    // ==== Cloudinary è¨­å®š ====
    const CLOUD_NAME = "dpef3dzrk";
    const IMAGE_TAG = "tawarahai2025";      // ç”»åƒã«ã¤ã‘ã¦ã„ã‚‹ã‚¿ã‚°
    const VIDEO_TAG = "tawarahai2025";      // å‹•ç”»ã«ã¤ã‘ã¦ã„ã‚‹ã‚¿ã‚°ï¼ˆåŒã˜ãªã‚‰ãã®ã¾ã¾ï¼‰

    const photosGrid   = document.getElementById("photosGrid");
    const videosGrid   = document.getElementById("videosGrid");
    const photosMsg    = document.getElementById("photosMessage");
    const videosMsg    = document.getElementById("videosMessage");
    const photosSec    = document.getElementById("photosSection");
    const videosSec    = document.getElementById("videosSection");
    const tabPhotosBtn = document.getElementById("tabPhotos");
    const tabVideosBtn = document.getElementById("tabVideos");

    // ==== ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ ====
    function activateTab(tab) {
      const isPhotos = tab === "photos";

      if (isPhotos) {
        photosSec.classList.remove("hidden");
        videosSec.classList.add("hidden");

        tabPhotosBtn.classList.add("bg-white", "shadow-sm", "border", "border-green-200", "text-green-800", "font-semibold");
        tabVideosBtn.classList.remove("bg-white", "shadow-sm", "border", "border-green-200", "text-green-800", "font-semibold");
        tabVideosBtn.classList.add("text-slate-500");
      } else {
        videosSec.classList.remove("hidden");
        photosSec.classList.add("hidden");

        tabVideosBtn.classList.add("bg-white", "shadow-sm", "border", "border-green-200", "text-green-800", "font-semibold");
        tabPhotosBtn.classList.remove("bg-white", "shadow-sm", "border", "border-green-200", "text-green-800", "font-semibold");
        tabPhotosBtn.classList.add("text-slate-500");
      }
    }

    tabPhotosBtn.addEventListener("click", () => activateTab("photos"));
    tabVideosBtn.addEventListener("click", () => activateTab("videos"));

    // ==== Cloudinary ã‹ã‚‰ä¸€è¦§ JSON ã‚’å–å¾— ====
    async function fetchAssets(resourceType, tag) {
      const url = `https://res.cloudinary.com/${CLOUD_NAME}/${resourceType}/list/${encodeURIComponent(tag)}.json`;

      try {
        const res = await fetch(url, { cache: "no-store" });

        // ã‚¿ã‚°ãƒªã‚¹ãƒˆãŒç„¡ã„å ´åˆã¯ 404 ãŒè¿”ã£ã¦ãã‚‹ â†’ ã€Œ0ä»¶ã€ã¨ã—ã¦æ‰±ã†
        if (res.status === 404) {
          return [];
        }
        if (!res.ok) {
          throw new Error(`Cloudinary list error (${res.status})`);
        }
        const data = await res.json();

        const base = `https://res.cloudinary.com/${CLOUD_NAME}/${resourceType}/upload/`;

        return (data.resources || []).map((r) => {
          const publicId = r.public_id;
          const format   = r.format;
          const original = r.secure_url || `${base}${publicId}.${format}`;

          const thumbTransform =
            resourceType === "image"
              ? "c_fill,w_900,h_900,q_auto,f_auto"
              : "so_0,du_3,c_fill,w_900,h_900,q_auto,f_auto";

          const thumb = `${base}${thumbTransform}/${publicId}.${format}`;

          return {
            thumb,
            original,
            created_at: r.created_at || "",
          };
        });
      } catch (err) {
        console.error(err);
        throw err;
      }
    }

    // ==== ã‚«ãƒ¼ãƒ‰ç”Ÿæˆ ====
    function createCard(asset, kind) {
      const card = document.createElement("article");
      card.className =
        "glass-card soft-shadow p-3 flex flex-col gap-2 hover:-translate-y-0.5 transition-transform";

      const thumbWrapper = document.createElement("button");
      thumbWrapper.className =
        "relative w-full aspect-[4/5] overflow-hidden focus:outline-none";

      const img = document.createElement("img");
      img.src = asset.thumb;
      img.alt = kind === "image" ? "ã‚³ãƒ³ãƒšå†™çœŸ" : "ã‚³ãƒ³ãƒšå‹•ç”»ã‚µãƒ ãƒã‚¤ãƒ«";
      img.loading = "lazy";
      img.className = "thumb-img w-full h-full";

      thumbWrapper.appendChild(img);

      if (kind === "video") {
        const badge = document.createElement("div");
        badge.className =
          "absolute top-2 left-2 inline-flex items-center gap-1 px-2 py-0.5 text-[11px] font-medium rounded-full bg-black/60 text-white";
        badge.innerHTML = `<span>â–¶</span><span>å‹•ç”»</span>`;
        thumbWrapper.appendChild(badge);
      }

      // ç”»åƒã‚¿ãƒƒãƒ—ã§ã‚‚é–‹ã
      thumbWrapper.addEventListener("click", () => {
        window.location.href = asset.original;
      });

      const btn = document.createElement("button");
      btn.className =
        "save-btn mt-1 px-3 py-1.5 text-[11px] md:text-xs font-semibold inline-flex items-center justify-center gap-1 w-full";
      btn.innerHTML = `<span>â¬‡</span><span>é–‹ã„ã¦ä¿å­˜</span>`;

      btn.addEventListener("click", () => {
        window.location.href = asset.original;
      });

      const note = document.createElement("p");
      note.className = "mt-1 text-[11px] text-slate-500 leading-snug";
      note.textContent =
        "â€» é–‹ã„ãŸç”»é¢ã‚’é•·æŠ¼ã— â†’ ã€Œå†™çœŸã«ä¿å­˜ã€ï¼ã€Œãƒ“ãƒ‡ã‚ªã‚’ä¿å­˜ã€ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚";

      card.appendChild(thumbWrapper);
      card.appendChild(btn);
      card.appendChild(note);

      return card;
    }

    // ==== ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å‡¦ç† ====
    async function loadPhotos() {
      photosMsg.classList.add("hidden");
      photosMsg.textContent = "";
      photosGrid.innerHTML = "";

      try {
        const assets = await fetchAssets("image", IMAGE_TAG);

        if (!assets.length) {
          photosMsg.textContent = "ã¾ã å†™çœŸãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã‚³ãƒ³ãƒšå½“æ—¥ã«æ’®ã£ãŸå†™çœŸã‚’ãœã²ã‚·ã‚§ã‚¢ã—ã¦ãã ã•ã„ ğŸ“¸";
          photosMsg.classList.remove("hidden");
          return;
        }

        assets.forEach((asset) => {
          const card = createCard(asset, "image");
          photosGrid.appendChild(card);
        });
      } catch (err) {
        photosMsg.textContent = "å†™çœŸã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ™‚é–“ã‚’ãŠã„ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚";
        photosMsg.classList.remove("hidden");
      }
    }

    async function loadVideos() {
      videosMsg.classList.add("hidden");
      videosMsg.textContent = "";
      videosGrid.innerHTML = "";

      try {
        const assets = await fetchAssets("video", VIDEO_TAG);

        if (!assets.length) {
          videosMsg.textContent = "ç¾åœ¨ã€å‹•ç”»ã¯ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚";
          videosMsg.classList.remove("hidden");
          return;
        }

        assets.forEach((asset) => {
          const card = createCard(asset, "video");
          videosGrid.appendChild(card);
        });
      } catch (err) {
        videosMsg.textContent = "å‹•ç”»ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ™‚é–“ã‚’ãŠã„ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚";
        videosMsg.classList.remove("hidden");
      }
    }

    // ==== åˆæœŸèª­ã¿è¾¼ã¿ ====
    (async () => {
      activateTab("photos");
      await loadPhotos();
      await loadVideos(); // å…ˆã«è£ã§èª­ã¿è¾¼ã‚“ã§ãŠã
    })();
  </script>
</body>
</html>
