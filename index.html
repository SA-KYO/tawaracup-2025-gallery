<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>多和楽杯2025 ギャラリー</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- フォント -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Cloudinary Product Gallery -->
  <link rel="stylesheet" href="https://product-gallery.cloudinary.com/all.css">
  <script src="https://product-gallery.cloudinary.com/all.js" type="text/javascript"></script>

  <style>
    body {
      font-family: 'Noto Sans JP', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    .title-font {
      font-family: 'Poppins', 'Noto Sans JP', system-ui, sans-serif;
      letter-spacing: 0.08em;
    }
  </style>
</head>
<body class="bg-gradient-to-b from-purple-50 via-white to-purple-100 min-h-screen px-4 py-8">

  <div class="max-w-6xl mx-auto">
    <!-- ヘッダー -->
    <header class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6">
      <div>
        <h1 class="title-font text-2xl md:text-3xl font-bold text-purple-700">
          多和楽杯2025 ギャラリー
        </h1>
        <p class="text-xs md:text-sm text-gray-500 mt-2">
          コンペ当日にみんながアップしてくれた写真・動画が、自動でここに並びます。
        </p>
      </div>

      <a
        href="https://tawaracup-2025-photo.netlify.app/"
        class="inline-flex items-center gap-1 text-xs md:text-sm text-purple-700 border border-purple-300 rounded-full px-4 py-2 hover:bg-purple-50 hover:shadow-sm transition"
      >
        ← アップロード画面に戻る
      </a>
    </header>

    <!-- 保存方法の案内 -->
    <section class="mb-4">
      <div class="bg-white/80 backdrop-blur-sm border border-purple-100 rounded-xl px-4 py-3 text-xs md:text-sm text-gray-600 shadow-sm flex flex-col md:flex-row md:items-center md:justify-between gap-2">
        <p class="font-medium text-purple-700">
          ✅ 写真・動画の保存方法
        </p>
        <div class="space-y-1 md:space-y-0 md:flex md:flex-col md:items-end text-[11px] md:text-xs">
          <p>スマホ：保存したい画像・動画を開いて長押し → 「写真に追加」などを選択</p>
          <p>PC：画像・動画を開いて右クリック → 「名前を付けて保存」</p>
        </div>
      </div>
    </section>

    <!-- ギャラリー本体 -->
    <section>
      <div class="bg-white rounded-3xl shadow-xl px-2 md:px-4 py-4 md:py-6 border border-purple-100">
        <div id="tawaragallery" class="rounded-2xl overflow-hidden"></div>
      </div>
    </section>

    <!-- フッター -->
    <footer class="mt-8 text-center text-[11px] md:text-xs text-gray-400">
      © 2025 多和楽杯コンペ実行委員会
    </footer>
  </div>

  <script>
    // Cloudinary Product Gallery 設定
    const gallery = cloudinary.galleryWidget({
      cloudName: 'dpef3dzrk',
      container: '#tawaragallery',

      // 画像・動画に付けているタグを指定（両方とも tawarahai2025 を付ける）
      mediaAssets: [
        { tag: 'tawarahai2025' }
      ],

      aspectRatio: "16:9",
      zoom: true,
      carouselLocation: "bottom",  // 下にサムネイル
      themeProps: {
        primary: "#7c3aed",
        active: "#4c1d95",
        text: "#111827",
        background: "#ffffff",
        thumbnailHoverBorder: "#a855f7"
      }
      // navigation オプションは削除（これが原因でエラーになっていました）
    });

    gallery.render();
  </script>
</body>
</html>
